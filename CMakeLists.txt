PROJECT(UFTT)

IF(MSVC)
	SET(LINK_STATIC_RUNTIME OFF CACHE BOOL "Link statically against C++ runtime")
	ADD_DEFINITIONS("-D_CRT_SECURE_NO_WARNINGS")

	IF(LINK_STATIC_RUNTIME)
		STRING(REGEX REPLACE "/MD" "/MT" CMAKE_C_FLAGS_RELEASE "${CMAKE_C_FLAGS_RELEASE}")
		STRING(REGEX REPLACE "/MD" "/MT" CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE}")
		ADD_DEFINITIONS("-DLINK_STATIC_RUNTIME")
		SET(CMAKE_EXE_LINKER_FLAGS_RELEASE "${CMAKE_EXE_LINKER_FLAGS_RELEASE} /NODEFAULTLIB:msvcrt")
	ENDIF(LINK_STATIC_RUNTIME)
ENDIF(MSVC)

IF(MINGW)
	SET(CMAKE_EXE_LINKER_FLAGS_RELEASE "${CMAKE_EXE_LINKER_FLAGS_RELEASE} -mwindows")
ENDIF(MINGW)

set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake/")

SUBDIRS(src)
